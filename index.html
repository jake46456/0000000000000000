<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta property="og:type" content="website">
    
    <meta property="og:title" content="정부24">  
    <meta property="og:image" content="mobile_icon_!.ico">

    <link rel="apple-touch-icon" href="mobile_icon.ico">
    <link rel="shortcut icon" href="mobile_icon.ico">
    <link rel="stylesheet" href="junglesystem.css">
    <link rel="stylesheet" href="font_SJSejongGothic.css">
    <link rel="stylesheet" href="main.css">
    <script src="jquery.js"></script>

    <title>정부24</title>

    <style>
        /* 아이폰에서 shm.jpg만 위로 이동 */
        @supports (-webkit-touch-callout: none) {
            .profile-image-container {
                position: relative;
                height: auto;
                display: flex;
                justify-content: center;
            }

            .profile-image-container img {
                position: absolute;
                top: -10px; /* 아이폰에서만 위로 10px 이동 */
            }

            /* QR 코드 높낮이 조정 (아이폰에서만) */
            .QR_Code {
                position: relative;
            }

            .QR_Code img {
                position: absolute;
                top: -15px; /* 아이폰에서만 QR 코드 위로 15px 이동 */
                left: 50%;
                transform: translateX(-50%);
            }
        }
    </style>
</head>
<body style="overflow: auto;">

    <div class="header">
        <img src="icon.png">
        <h2>
            <p>주민등록증모바일확인서비스</p>
        </h2>
        <div class="header_list">
            <bd>
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
                </svg>
            </bd>
        </div>
    </div>

    <hr color="#ddeaf3">
    <div id="wrap">
        <div id="box" class="box_main">
            <!-- 프로필 이미지 컨테이너 (독립적인 위치 유지) -->
            <div class="profile-image-container">
                <img src="shm.jpg">
            </div>

            <h1>최시훈</h1>
            <h2 style="margin-left: 27px;">07.04.03</h2>
            <h3>용인시 처인구</h3>

            <div class="QR_Code">
                <img id="QR_img" src="qr_code_1.png">
            </div>

            <progress value="30" max="30" id="jb"></progress>
            <p class="progressbar_text">남은시간</p> 
            <p class="progressbar_time">30초</p>

            <p class="QR_text">QR코드를 리더기에 스캔하세요</p>

            <!-- 실시간 날짜 및 시간 표시 -->
            <p id="current_time" style="font-size: 12px; color: gray; text-align: center;"></p>

            <div class="box_footer">
                <p class="js-click-modal">상세정보 표시</p>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.slim.js"></script>
    <script>
        $(document).ready(function(){
            $(".js-click-modal").click(function(){
                document.querySelector('.box_main').style.display = 'none';
                document.querySelector('.modal').style.display = 'block';
            });

            $(".back").click(function(){
                document.querySelector('.box_main').style.display = 'block';
                document.querySelector('.modal').style.display = 'none';
            });

            let count = 30;
            let qrIndex = 0;
            const qrImages = ["qr_code_1.png", "qr_code_2.png"];

            setInterval(() => {
                document.querySelector('.progressbar_time').innerHTML = `${count}초`;
                document.querySelector('#jb').value = count;

                if(count <= 0) {
                    qrIndex = (qrIndex + 1) % qrImages.length;
                    document.querySelector('#QR_img').src = qrImages[qrIndex];
                    count = 30;
                }
                count -= 1;
            }, 1000);

            function updateCurrentTime() {
                const now = new Date();
                const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit', timeZone: 'Asia/Seoul' };
                document.getElementById("current_time").innerText = now.toLocaleString('ko-KR', options);
            }

            setInterval(updateCurrentTime, 1000);
            updateCurrentTime();
        });
    </script>

</body>
</html>
